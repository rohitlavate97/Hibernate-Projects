show databases;

create database sbms;

use sbms;

show tables;

select * from student;

select * from product_tbl

Select * from employee_dtls;


CREATE TABLE EMP (
    EMPNO INT PRIMARY KEY,
    ENAME VARCHAR(100) NOT NULL,
    SAL DOUBLE NOT NULL,
    DEPTNO INT NOT NULL,
    DOJ DATE NOT NULL,
    MGR INT NULL,
    FOREIGN KEY (MGR) REFERENCES EMP(EMPNO)
);

INSERT INTO EMP VALUES
(7839, 'KING', 60000, 10, '2015-06-01', NULL);

INSERT INTO EMP VALUES
(7566, 'JONES', 50000, 20, '2018-11-10', 7839),
(7698, 'BLAKE', 48000, 30, '2017-05-03', 7839),
(7782, 'CLARK', 42000, 10, '2016-12-01', 7839);

INSERT INTO EMP VALUES
(7369, 'SMITH', 30000, 10, '2020-01-15', 7566),
(7499, 'ALLEN', 35000, 30, '2019-03-20', 7698),
(7521, 'WARD', 28000, 30, '2021-06-01', 7698);


select * from emp;




DELIMITER $$

CREATE PROCEDURE EMP_EXPERIENCE(
    IN ENO INT,
    OUT NAME VARCHAR(100),
    OUT EXPERIENCE DOUBLE
)
BEGIN
    DECLARE TEMP1 DATE;

    SELECT ENAME INTO NAME
    FROM EMP
    WHERE EMPNO = ENO;

    SELECT DOJ INTO TEMP1
    FROM EMP
    WHERE EMPNO = ENO;

    SET EXPERIENCE = TIMESTAMPDIFF(YEAR, TEMP1, CURDATE());
END $$

DELIMITER ;


